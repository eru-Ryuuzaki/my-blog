---
theme: channing-cyan
---

# HTML 基础

### Doctype 作用

Doctype 位于文档最前面，处于 html 标签之前，告诉浏览器文档使用的是哪种 HTML 或者 XHTML 。只有确定了一个正确的 DOCTYPE，HTML 或者 XHTML 里的标识和 CSS 才能正常生效。</br>

包括以下几种类型：

- 严格版本
- 过渡版本
- 基于框架 html 版本

> HTML4 规定了三种声明方式，分别是：**严格模式、过渡模式 和 框架集模式**；而 HTML5 因为不是SGML的子集，只需要<!DOCTYPE>就可以了：
>
> > 1. html 4.01基于SGML，需要声明DTD。
> > 2. html5不基于SGML，所以不需要引用DTD。

### HTML5 的更新

1. 语义化标签

   - 示例

   ```html
   <header>头部</header>
   <nav>导航栏</nav>
   <section>区块</section>
   <main>主要区域</main>
   <article>主要内容</article>
   <aside>侧边栏</aside>
   <footer>底部</footer>
   ```

   - 语义化的理解

#### 语义化是指根据内容的结构化（内容语义化），选择合适的标签（代码语义化）。通俗来讲就是⽤正确的标签做正确的事情。

- 语义化的优点如下：

        + 对机器友好，带有语义的⽂字表现⼒丰富，更适合搜索引擎的爬⾍爬取有效信息，有利于SEO。
        + 语义类还⽀持读屏软件，根据⽂章可以⾃动⽣成⽬录。
        + 对开发者友好，使⽤语义类标签增强了可读性，结构更加清晰，开发者能清晰的看出⽹⻚的结构，便于团队的开发与维护。

2. 媒体标签
   （1）audio: 音频

   - 背景——互联网上的音频发展

     html5 之前，仍然不存在一项旨在网页上播放音频的标准，大多数音频是通过插件（比如 Flash，不过**_自 2020 年 12 月开始，Flash Player 不再受 Chrome 支持_**）来播放的。然而，并非所有浏览器都拥有同样的插件。HTML5 规定了在网页上嵌入音频元素的标准，即使用 `<audio>` 元素。

   - 使用：不算很复杂，配合文档使用即可。
   
   （2）video
   
   ##### 	诞生背景和 audio 差不多
   
   （3）source 标签
   
   - `<source>` 标签为媒体元素（比如 `<video>` 和 `<audio>`）定义媒体资源。
- `<source>` 标签允许您规定两个视频/音频文件供浏览器根据它对媒体类型或者编解码器的支持进行选择。
	
3. 本地存储

   > h5提供了sessionStorage、localStorage和indexedDB加强本地存储，使用之前应该先判断支持情况。
   > 注意：localStorage存储的数据是不能跨浏览器共用的，一个浏览器只能读取各自浏览器的数据,储存空间5M。

4. 离线 web 应用

   ```js
   if(window.applicationCache){
       //支持离线应用
   }
   ```

5. WebSocket

   > WebSocket 是 HTML5 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议。
   >
   > WebSocket 使得客户端和服务器之间的数据交换变得更加简单，允许服务端主动向客户端推送数据。在 WebSocket API 中，浏览器和服务器只需要完成一次握手，两者之间就直接可以创建持久性的连接，并进行双向数据传输。
   >
   > 在 WebSocket API 中，浏览器和服务器只需要做一个握手的动作，然后，浏览器和服务器之间就形成了一条快速通道。两者之间就直接可以数据互相传送。

6. pushState() 和 replaceState() 方法

   1. hash 模式和 history 模式的区别

     + hash ：hash 虽然出现在 URL 中，但不会被包含在 http 请求中，对后端完全没有影响，因此改变 hash 不会重新加载页面。

       > **当 URL 改变时，页面不会重新加载。** hash（#）是URL 的锚点，代表的是网页中的一个位置，单单改变#后的部分，浏览器`只会滚动到相应位置，不会重新加载网页`，也就是说 #是用来指导浏览器动作的，对服务器端完全无用，`HTTP请求中也不会不包括#`；同时每一次改变#后的部分，都会在浏览器的访问历史中增加一个记录，使用”后退”按钮，就可以回到上一个位置；所以说`Hash模式通过锚点值的改变，根据不同的值，渲染指定DOM位置的不同数据`

     + history ：history 利用了 html5 history interface 中新增的 pushState() 和 replaceState() 方法。这两个方法应用于浏览器记录栈，在当前已有的 back、forward、go 基础之上，它们提供了对历史记录修改的功能。只是当它们执行修改时，虽然改变了当前的 URL ，但浏览器不会立即向后端发送请求。

   2. history 的优点：

      - pushState 设置的 url 可以是同源下的任意 url ；而 hash 只能修改 # 后面的部分，因此只能设置当前 url 同文档的 url
      - pushState 设置的新的 url 可以与当前 url 一样，这样也会把记录添加到栈中；hash 设置的新值不能与原来的一样，一样的值不会触发动作将记录添加到栈中
      - pushState 通过 stateObject 参数可以将任何数据类型添加到记录中；hash 只能添加短字符串
      - pushState 可以设置额外的 title 属性供后续使用

      history 的缺点：

      - history 在刷新页面时，如果服务器中没有相应的响应或资源，就会出现404。因此，如果 URL 匹配不到任何静态资源，则应该返回同一个 index.html 页面，这个页面就是你 app 依赖的页面
      - hash 模式下，仅 # 之前的内容包含在 http 请求中，对后端来说，即使没有对路由做到全面覆盖，也不会报 404
      
   3. hash 的优点：

      - 只需要前端配置路由表, 不需要后端的参与
      - 兼容性好, 浏览器都能支持
      - hash值改变不会向后端发送请求, 完全属于前端路由

      hash 的缺点：

      - hash值前面需要加#, 不符合url规范,也不美观
   
7. 表单控件：HTML5 拥有多个新的表单输入类型。这些新特性提供了更好的输入控制和验证。

   + color

   + date

   + datetime

   + datetime-local

   + email

   + month

   + number

   + range

   + search

   + tel

   + time

   + url

   + week

8. 画布/Canvas，canvas，figure,figcaption.

9. 地理/Geolocation**.地理位置 API 允许用户向 Web 应用程序提供他们的位置。出于隐私考虑，报告地理位置前会先请求用户许可。**

10. 拖拽释放.HTML拖拽释放 (Drag and drop) 接口使应用程序能够在浏览器中使用拖放功能。例如，通过这些功能，用户可以使用鼠标选择可拖动元素，将元素拖动到可放置元素，并通过释放鼠标按钮来放置这些元素。可拖动元素的一个半透明表示在拖动操作期间跟随鼠标指针。

### src 和 href 的区别

#### src ⽤于替换当前元素，href ⽤于在当前⽂档和引⽤资源之间确⽴联系

- `src`

  src 是 source 的缩写，指向外部资源的位置，**指向的内容将会嵌⼊到⽂档中当前标签所在位置**；在请求 src 资源时会将其指向的资源下载并应⽤到⽂档内，例如 js 脚本，img 图⽚和 frame 等元素。
   当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源加载、编译、执⾏完毕，图⽚和框架等元素也如此，类似于将所指向资源嵌⼊当前标签内。这也是为什么将 js 脚本放在底部⽽不是头部。

- `href`

  href 是 Hypertext Reference 的缩写，指向⽹络资源所在位置，建⽴和当前元素（锚点）或当前⽂档（链接）之间的链接，如果在⽂档中添加`<link href="common.css" rel="stylesheet"/>`那么浏览器会设别该文档为 css ⽂件，就会并⾏下载资源并且不会停⽌对当前⽂档的处理。 **这也是为什么建议使⽤ link ⽅式来加载 css，⽽不是使⽤@import ⽅式。**
